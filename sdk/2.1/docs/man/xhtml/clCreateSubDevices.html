<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<!-- saved from url=(0013)about:internet -->
<?xml-stylesheet type="text/xsl" href="mathml.xsl"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:pref="http://www.w3.org/2002/Math/preference" xmlns:xlink="http://www.w3.org/1999/xlink" pref:renderer="mathplayer-dl">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style xmlns="" type="text/css">
    /* This style sets a margin around the entire page */
        html, body {
            margin: 10px;
        }

        p {
            font: normal 16px verdana, sans-serif;
            margin: 0;
            padding-bottom:12px;
        }

        h1 {
            font: bold 25px verdana, sans-serif;
            margin-top: 0;
            margin-bottom: 3px;
            padding-top: 0;
            padding-bottom: 0;
        }

        h2 {
            font: bold 19px verdana, sans-serif;
            margin-top: 28px;
            margin-bottom: 3px;
            padding-top: 0;
            padding-bottom: 0;
        }

        h3 {
            font: bold 19px verdana, sans-serif !important;
            margin-top: 28px;
            margin-bottom: 3px;
            padding-top: 0;
            padding-bottom: 0;
        }

        li {
            font: normal 16px verdana, sans-serif;
            margin-top: 0;
            margin-bottom: 18px;
            padding-top: 0;
            padding-bottom: 0;
        }

        .pdparam {
            font: italic 16px verdana, sans-serif;
        }

                .term {
                        font: italic 16px verdana, sans-serif;
                        font-weight: normal;
                }

                .type {
                        font: normal 16px verdana, sans-serif !important;
                }

                .parameter {
                        font-style: italic;
                        }

        a:link, a:visited {
            color: blue;
            text-decoration: none;
            font: normal 16px;
        }

        a:hover {
            background-color: #FFFF99;
            font: normal 16px;
        }

        div.funcsynopsis {
            text-align: left;
            background-color: #e6e6e6;
            font: normal 16px verdana, sans-serif;
                        padding-top: 10px;
                        padding-bottom: 10px;
        }

        div.funcsynopsis table {
            border-collapse: separate;
            font: normal 16px verdana, sans-serif;
        }

        div.funcsynopsis td {
            background-color: #e6e6e6;
            border: 0 solid #000;
            padding: 1px;
            font: normal 16px verdana, sans-serif;
        }

        div.refsect1 {
            font-family: verdana, sans-serif;
            font-size: 16px;
        }

        code.constant {
            font: normal 16px courier new, monospace !important;
        }

                span.errorname {
            font: normal 16px verdana, sans-serif !important;
        }

        code.function {
            font: bold 16px verdana, sans-serif !important;
        }

        b.fsfunc {
            font: bold 16px verdana, sans-serif !important;
        }

        code.varname {
            font: italic 16px verdana, sans-serif;
        }

        code.replaceable {
            font: italic 16px courier new, monospace;
        }

        code.funcdef {
            font: normal 16px verdana, sans-serif !important;
        }

        .citerefentry {
            font: normal 16px verdana, sans-serif !important;
        }

        .parameter {
            font-style: italic;
        }

        code.fsfunc {
            font: normal 16px verdana, sans-serif !important;
        }

        /* PARAMETER: This style controls spacing between the terms in Parameter section */
        dt {
            margin-top: 15px;
        }

        /* TABLES: These styles apply to all tables OTHER than the Synopsis and Example tables */
        div.refsect1 table {
            width: 100%;
                        margin-top: 10px;
            background-color: #FFF;
                        border-collapse: collapse;
                        border-color: #000;
            border-width: 1px;
                        font: normal 16px verdana, sans-serif;
        }

        div.refsect1 th {
                        border-collapse: collapse;
                        border-color: #000;
            border-width: 1px;
            font: bold 16px verdana, sans-serif;
        }

        div.refsect1 td {
            background-color: #FFF;
            padding: 5px;
            vertical-align: text-top;
                        border-collapse: collapse;
                        border-color: #000;
            border-width: 1px;
            font: normal 16px verdana, sans-serif;
        }

                  div.refsect1 p{
            font: normal 16px verdana, sans-serif;
            margin-top: 8px;
            margin-bottom: 8px;
            padding-top: 0;
            padding-bottom: 0;
        }


        /* EXAMPLE: These styles apply only to the Example section */
        div.refsect2 {
            font: normal 16px courier new, monospace !important;
        }

        div.refsect2 table {
            margin-top: 0;
            background-color: #e6e6e6;
            width: 100%;
            border: 0 solid #000;
            padding: 2px;
            font: normal 16px courier new, monospace !important;
        }

        div.refsect2 td {
            background-color: #e6e6e6;
            font: normal 16px courier new, monospace !important;
                        white-space:pre;
        }

        /* COPYRIGHT: This style formats the text of the copyright statement at the bottom of the page */
        div.refsect3 {
            font: normal 11px verdana, sans-serif;
            margin-top: 50px;
            margin-bottom: 20px;
            padding-top: 0;
            padding-bottom: 0;
        }

</style>
    <title>clCreateSubDevices</title>
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <meta name="keywords" content="clCreateSubDevices" />
  </head>
  <body>
    <div class="refentry">
      <a id="id-1"></a>
      <div class="titlepage"></div>
      <div xmlns="" class="refnamediv">
        <a xmlns="http://www.w3.org/1999/xhtml" id="clCreateSubDevices"></a>
        <h1>
            clCreateSubDevices
        </h1>
        <p>
            Creates an array of sub-devices that each reference a non-intersecting set of compute units within <code xmlns="http://www.w3.org/1999/xhtml" class="varname">in_device</code>.
        </p>
      </div>
      <div class="refsynopsisdiv">
        <h2></h2>
        <div class="funcsynopsis">
          <table xmlns="" border="0" summary="Function synopsis" cellspacing="0" cellpadding="0">
            <tr valign="bottom">
              <td>
                <code xmlns="http://www.w3.org/1999/xhtml" class="funcdef">
                    <a class="link" href="scalarDataTypes.html" target="pagedisplay">cl_int</a> <strong class="fsfunc">clCreateSubDevices</strong>
                (</code>
                <td>
                    <a xmlns="http://www.w3.org/1999/xhtml" class="link" href="abstractDataTypes.html" target="pagedisplay">cl_device_id</a>
                     <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">in_device</var>
                , </td>
              </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td>const
                    <a xmlns="http://www.w3.org/1999/xhtml" class="link" href="enums.html#cl_device_partition_property" target="pagedisplay">cl_device_partition_property</a>
                     <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">*properties</var>
                , </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td>
                    <a xmlns="http://www.w3.org/1999/xhtml" class="link" href="scalarDataTypes.html" target="pagedisplay">cl_uint</a>
                     <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">num_devices</var>
                , </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td>
                    <a xmlns="http://www.w3.org/1999/xhtml" class="link" href="scalarDataTypes.html" target="pagedisplay">cl_device_id</a>
                     <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">*out_devices</var>
                , </td>
            </tr>
            <tr valign="top">
              <td> </td>
              <td><a xmlns="http://www.w3.org/1999/xhtml" class="link" href="scalarDataTypes.html" target="pagedisplay">cl_uint</a>
                     <var xmlns="http://www.w3.org/1999/xhtml" class="pdparam">*num_devices_ret</var>
                <code>)</code></td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1">
        <a id="parameters"></a>
        <h2>Parameters</h2>
        <div class="variablelist">
          <dl class="variablelist">
            <dt>
              <span class="term">
                <code class="varname">in_device</code>
              </span>
            </dt>
            <dd>
              <p>The device to be partitioned.</p>
            </dd>
            <dt>
              <span class="term">
                <code class="varname">properties</code>
              </span>
            </dt>
            <dd>
              <p>
                      Specifies how <code class="varname">in_device</code> is to be partition described
                      by a partition name and its corresponding value. Each partition name
                      is immediately followed by the corresponding desired value. The list is
                      terminated with 0. The list of supported partitioning schemes is described
                      in the table below. Only one of the listed partitioning schemes can be
                      specified in <code class="varname">properties</code>.
                    </p>
              <div class="informaltable">
                <table class="informaltable" border="1">
                  <colgroup>
                    <col align="left" class="col1" />
                    <col align="left" class="col2" />
                  </colgroup>
                  <thead>
                    <tr>
                      <th align="left">cl_device_partition_property enum (Partition value)</th>
                      <th align="left">Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td align="left">CL_DEVICE_PARTITION_EQUALLY (unsigned int)</td>
                      <td align="left">
                                          Split the aggregate device into as many smaller
                                          aggregate devices as can be created, each
                                          containing <em class="replaceable"><code>n</code></em> compute
                                          units.  The value <em class="replaceable"><code>n</code></em> is
                                          passed as the value accompanying this property. If
                                          <em class="replaceable"><code>n</code></em> does not divide evenly into
                                          <code class="constant">CL_DEVICE_PARTITION_MAX_COMPUTE_UNITS</code>,
                                          then the remaining compute units are not used.
                                        </td>
                    </tr>
                    <tr>
                      <td align="left">CL_DEVICE_PARTITION_BY_COUNTS (unsigned int)</td>
                      <td align="left">
                                          This property is followed by a
                                          <code class="constant">CL_DEVICE_PARTITION_BY_COUNTS_LIST_END</code>
                                          terminated list of compute unit counts. For
                                          each nonzero count <em class="replaceable"><code>m</code></em>
                                          in the list, a sub-device is created with
                                          <em class="replaceable"><code>m</code></em> compute units in it.
                                          <code class="constant">CL_DEVICE_PARTITION_BY_COUNTS_LIST_END</code>
                                          is defined to be 0.

                                          <p>
                                            The number of non-zero count
                                            entries in the list may not exceed
                                            <code class="constant">CL_DEVICE_PARTITION_MAX_SUB_DEVICES</code>.
                                          </p>

                                          <p>
                                            The total number of compute
                                            units specified may not exceed
                                            <code class="constant">CL_DEVICE_PARTITION_MAX_COMPUTE_UNITS</code>.
                                          </p>
                                        </td>
                    </tr>
                    <tr>
                      <td align="left">CL_DEVICE_PARTITION_BY_-
AFFINITY_DOMAIN (cl_device_affinity_domain)</td>
                      <td align="left">
                                            Split the device into smaller aggregate devices
                                            containing one or more compute units that all share
                                            part of a cache hierarchy. The value accompanying
                                            this property may be drawn from the following list:

                                            <p>
                                              <code class="constant">CL_DEVICE_AFFINITY_DOMAIN_NUMA</code>
                                              - Split the device into sub-devices comprised of
                                              compute units that share a NUMA node.
                                            </p>

                                            <p>
                                              <code class="constant">CL_DEVICE_AFFINITY_DOMAIN_L4_CACHE</code>
                                              - Split the device into sub-devices comprised of
                                              compute units that share a level 4 data cache.
                                            </p>

                                            <p>
                                              <code class="constant">CL_DEVICE_AFFINITY_DOMAIN_L3_CACHE</code>
                                              - Split the device into sub-devices comprised of
                                              compute units that share a level 3 data cache.
                                            </p>

                                            <p>
                                              <code class="constant">CL_DEVICE_AFFINITY_DOMAIN_L2_CACHE</code>
                                              - Split the device into sub-devices comprised of
                                              compute units that share a level 2 data cache.
                                            </p>

                                            <p>
                                              <code class="constant">CL_DEVICE_AFFINITY_DOMAIN_L1_CACHE</code>
                                              - Split the device into sub-devices comprised of
                                              compute units that share a level 1 data cache.
                                            </p>

                                            <p>
                                              <code class="constant">CL_DEVICE_AFFINITY_DOMAIN_NEXT_PARTITIONABLE</code>
                                              - Split the device along the next partitionable
                                              affinity domain. The implementation shall find the
                                              first level along which the device or sub-device
                                              may be further subdivided in the order NUMA,
                                              L4, L3, L2, L1, and partition the device into
                                              sub-devices comprised of compute units that share
                                              memory subsystems at this level.
                                            </p>

                                            <p>
                                              The user may determine what happened by calling
                                              <a class="citerefentry" href="clGetDeviceInfo.html"><span class="citerefentry"><span class="refentrytitle">clGetDeviceInfo</span></span></a>
                                              (<code class="constant">CL_DEVICE_PARTITION_TYPE</code>)
                                              on the sub-devices.
                                            </p>
                                        </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </dd>
            <dt>
              <span class="term">
                <code class="varname">num_devices</code>
              </span>
            </dt>
            <dd>
              <p>
                      Size of memory pointed to by <code class="varname">out_devices</code> specified as
                      the number of <span class="type">cl_device_id</span> entries.
                    </p>
            </dd>
            <dt>
              <span class="term">
                <code class="varname">out_devices</code>
              </span>
            </dt>
            <dd>
              <p>
                      The buffer where the OpenCL sub-devices will be returned.  If
                      <code class="varname">out_devices</code> is NULL, this argument is ignored. If
                      <code class="varname">out_devices</code> is not NULL, <code class="varname">num_devices</code>
                      must be greater than or equal to the number of sub-devices that
                      <code class="varname">device</code> may be partitioned into according to the
                      partitioning scheme specified in <code class="varname">properties</code>.
                    </p>
            </dd>
            <dt>
              <span class="term">
                <code class="varname">num_devices_ret</code>
              </span>
            </dt>
            <dd>
              <p>
                      Returns the number of sub-devices that device may be
                      partitioned into according to the partitioning scheme specified in
                      <code class="varname">properties</code>.  If <code class="varname">num_devices_ret</code>
                      is NULL, it is ignored.
                    </p>
            </dd>
          </dl>
        </div>
      </div>
      <div class="refsect1">
        <a id="notes"></a>
        <h2>Notes</h2>
        <p>
          Creates an array of sub-devices that each reference a non-intersecting set of compute
          units within <code class="varname">in_device</code>, according to a partition scheme given
          by <code class="varname">properties</code>. The output sub-devices may be used in every way
          that the root (or parent) device can be used, including creating contexts, building
          programs, further calls to <code class="function">clCreateSubDevices</code> and creating
          command-queues. When a command-queue is created against a sub-device, the commands
          enqueued on the queue are executed only on the sub-device.
        </p>
      </div>
      <div class="refsect1">
        <a id="errors"></a>
        <h2>Errors</h2>
        <p>
            Returns <span class="errorname">CL_SUCCESS</span> if the partition is created successfully.
            Otherwise, it returns a NULL value with the following error values returned in
            <code class="varname">errcode_ret</code>:
        </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_DEVICE</span> if <code class="varname">in_device</code> is not valid.
            </li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_VALUE</span> if values specified in
                <code class="varname">properties</code> are not valid or if values specified in
                <code class="varname">properties</code> are valid but not supported by the device.
            </li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_VALUE</span> if <code class="varname">out_devices</code> is not
              NULL and <code class="varname">num_devices</code> is less than the number of sub-devices
              created by the partition scheme.
            </li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_DEVICE_PARTITION_FAILED</span> if the partition name is
              supported by the implementation but <code class="varname">in_device</code> could not be
              further partitioned.
            </li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_INVALID_DEVICE_PARTITION_COUNT</span> if
              the partition name specified in <code class="varname">properties</code> is
              <code class="constant">CL_DEVICE_PARTITION_BY_COUNTS</code> and the number of sub-devices
              requested exceeds <code class="constant">CL_DEVICE_PARTITION_MAX_SUB_DEVICES</code>
              or the total number of compute units requested exceeds
              <code class="constant">CL_DEVICE_PARTITION_MAX_COMPUTE_UNITS</code> for
              <code class="varname">in_device</code>, or the number of compute units requested
              for one or more sub-devices is less than zero or the number of sub-devices
              requested exceeds <code class="constant">CL_DEVICE_PARTITION_MAX_COMPUTE_UNITS</code>
              for <code class="varname">in_device</code>.
            </li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_OUT_OF_RESOURCES</span> if there is a failure to allocate
              resources required by the OpenCL implementation on the device.
            </li>
            <li class="listitem" style="list-style-type: disc"><span class="errorname">CL_OUT_OF_HOST_MEMORY</span> if there is a failure to allocate
              resources required by the OpenCL implementation on the host.
            </li>
          </ul>
        </div>
      </div>
      <div class="refsect2">
        <a id="example1"></a>
        <h3>
            Example
        </h3>
        <p>
          A few examples that describe how to specify partition properties in
          <code class="varname">properties</code> argument to <code class="function">clCreateSubDevices</code>
          are given below.
        </p>
        <p>
          To partition a device containing 16 compute units into two sub-devices, each containing
          8 compute units, pass the following in <code class="varname">properties</code>:
        </p>
        <div class="informaltable">
          <table class="informaltable" border="0">
            <colgroup>
              <col align="left" class="col1" />
            </colgroup>
            <tbody>
              <tr>
                <td align="left">
    { CL_DEVICE_PARTITION_EQUALLY, 8, 0 }
                        </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>
          To partition a device with four compute units into two sub-devices with one sub-device
          containing 3 compute units and the other sub-device 1 compute unit, pass the following
          in <code class="varname">properties</code> argument:
        </p>
        <div class="informaltable">
          <table class="informaltable" border="0">
            <colgroup>
              <col align="left" class="col1" />
            </colgroup>
            <tbody>
              <tr>
                <td align="left">
    { CL_DEVICE_PARTITION_BY_COUNTS,
      3, 1, CL_DEVICE_PARTITION_BY_COUNTS_LIST_END, 0 }
                        </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>
          To split a device along the outermost cache line (if any), pass the following in
          <code class="varname">properties</code> argument:
        </p>
        <div class="informaltable">
          <table class="informaltable" border="0">
            <colgroup>
              <col align="left" class="col1" />
            </colgroup>
            <tbody>
              <tr>
                <td align="left">
    { CL_DEVICE_PARTITION_BY_AFFINITY_DOMAIN,
      CL_DEVICE_AFFINITY_DOMAIN_NEXT_PARTITIONABLE, 0 }
                        </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="refsect1">
        <a id="specification"></a>
        <h2>Specification</h2>
        <p>
            <img src="pdficon_small1.gif" />

            <a href="https://www.khronos.org/registry/cl/specs/opencl-2.1.pdf#namedest=clCreateSubDevices" target="OpenCL Spec">OpenCL Specification</a>
        </p>
      </div>
      <div class="refsect1">
        <a id="seealso"></a>
        <h2>Also see</h2>
        <p>
            <a class="citerefentry" href="clGetDeviceInfo.html"><span class="citerefentry"><span class="refentrytitle">clGetDeviceInfo</span></span></a>
        </p>
      </div>
      <div xmlns="" class="refsect3" lang="en" xml:lang="en"><a xmlns="http://www.w3.org/1999/xhtml" id="Copyright"></a><h4 xmlns="http://www.w3.org/1999/xhtml"></h4><img xmlns="http://www.w3.org/1999/xhtml" src="KhronosLogo.jpg" /><p xmlns="http://www.w3.org/1999/xhtml"></p>Copyright © 2007-2015 The Khronos Group Inc.
Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and/or associated documentation files (the
"Materials"), to deal in the Materials without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Materials, and to
permit persons to whom the Materials are furnished to do so, subject to
the condition that this copyright notice and permission notice shall be included
in all copies or substantial portions of the Materials.
</div>
    </div>
  </body>
</html>
